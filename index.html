<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <title>Horarios PWA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="manifest.json" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header>
    <h1>Horarios PWA</h1>
    <div id="current-date" class="date-display">Cargando fecha...</div>
    <!-- Badge de Notificaciones Activas -->
    <div id="notification-badge" class="notification-active-badge">
        üîî Notificaciones Activas 
        <a href="#" id="btn-test-notify" style="color: inherit; margin-left: 8px; font-weight: normal; font-size: 0.85em; text-decoration: underline; padding: 4px;">(Probar)</a>
        <a href="#" id="btn-purge-devices" style="color: #ffcccc; margin-left: 8px; font-weight: normal; font-size: 0.85em; text-decoration: underline; padding: 4px;">(Purgar)</a>
    </div>
  </header>

  <main class="main-container">
    <div class="card">
      <h2>
        Horario de Hoy
        <span id="season-badge" class="season-badge">...</span>
      </h2>
      <div id="schedule-container">
        <div class="loading-skeleton" style="width: 100%;"></div>
        <div class="loading-skeleton" style="width: 80%;"></div>
        <div class="loading-skeleton" style="width: 90%;"></div>
      </div>

      <div id="next-change-container" class="next-change-card" style="display: none;">
        <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0;">‚è≥ Pr√≥ximo cambio de horario</p>
        <p style="font-weight: 700; color: var(--primary); margin: 0.25rem 0 0 0; font-size: 1.1rem;" id="next-change-text"></p>
      </div>
    </div>

    <!-- Banner de Promoci√≥n de Notificaciones -->
    <div id="notification-promo" class="notification-promo-card">
        <h3>‚ö†Ô∏è No recibes alertas</h3>
        <p>Act√≠valas para saber cu√°ndo inicia o termina tu turno.</p>
        <button id="btn-enable-notify" class="btn-enable-notify">Activar Notificaciones Ahora</button>
        <div id="status-msg"></div>
    </div>
  </main>

  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-messaging-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="app.js"></script>

</body>

</html>